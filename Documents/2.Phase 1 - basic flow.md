0) Setup (one-time) [Done]

Install:

Docker, .NET SDK, Node.js

kubectl, Helm

Local K8s: kind (simple) or minikube

Repo layout (recommended):

/src
  /ui-angular
  /bff
  /gateway
  /services/todo
/k8s
  /base
  /overlays (dev/prod later)

1) Build the Service (Todo API) — dummy logic is OK [Done]

Do

Create ASP.NET Core Web API: /api/todos (GET/POST dummy)

Add health endpoints: /health and /ready

Log to console (JSON later)

Done when

You can call it via Postman/curl locally

2) Build the UI (Angular) — call the API directly first [Inprogress]

Do

Simple page: list todos + create todo

Call http://localhost:<todo-api>/api/todos

Done when

UI works end-to-end locally

3) Add BFF (Backend for Frontend) — UI stops calling API directly

Do

Create .NET BFF with endpoints like:

GET /api/todos (BFF calls downstream)

For now: BFF calls Todo API directly (no gateway yet)

Done when

UI calls BFF only, not Todo API

4) Add Gateway — BFF calls Gateway, Gateway routes to Service

Do

Create Gateway (recommended: YARP) routing:

/todo/* → todo-service

Update BFF to call Gateway:

BFF → http://gateway/todo/api/todos

Done when

Flow works locally:

UI → BFF → Gateway → Todo API

5) Containerize everything (Docker)

Do

Dockerfile for each:

ui (nginx static)

bff

gateway

todo-api

Run with docker compose (fast validation)

Done when

One command runs all containers and the flow works

6) Deploy to Kubernetes (basic)

Do

Create namespaces: app, edge, obs

Deploy in app:

Deployments + Services (ClusterIP): ui, bff, gateway, todo

Add resource requests/limits

Add readiness/liveness probes

Done when

You can port-forward BFF and use UI through it

7) Add Ingress (public entry)

Do

Install Ingress Controller (nginx)

Ingress routes:

/ → ui

/api (or /bff) → bff

Keep gateway + services private (ClusterIP only)

Done when

Browser hits one domain:

Browser → Ingress → UI/BFF → Gateway → Service

8) Add “basic but real” Observability (code + cluster)
8.1 In code (first)

Do

Structured logs (Serilog JSON) in BFF/Gateway/Service

CorrelationId middleware (propagate header)

OpenTelemetry tracing (BFF → Gateway → Todo)

8.2 In cluster (then)

Do

Metrics: Prometheus + Grafana

Logs: Loki + Promtail/FluentBit

Traces: Tempo/Jaeger (+ OTel Collector)

Done when

You can open Grafana and:

see CPU/RAM + request rate

query logs by service + CorrelationId

view a trace across BFF→Gateway→Todo

9) Scale & protect infrastructure (advanced)

Do

HPA for todo + gateway + bff

Gateway rate limiting + timeout enforcement

PodDisruptionBudget (BFF/Gateway)

Graceful shutdown (termination handling)

DB connection protection (later when DB added)

Done when

Load test shows autoscaling + no cascading failure

10) Security hardening (advanced infra)

Do

TLS (cert-manager) at Ingress

NetworkPolicy:

Only BFF can call Gateway

Only Gateway can call services

Secrets management (K8s Secrets → later External Secrets)

Done when

Internal services can’t be reached except through the chain

The “smallest working milestone” (do this first)

✅ Todo API + UI + BFF + Gateway running locally
Then ✅ deploy to K8s + Ingress
Then ✅ observability stack